05 - 陣列查詢
=====
* ### 陣列元素非子文件時
    * ### 列出陣列中的元素個數
        * ### Stage 1 - $addFields: 列出陣列中的元素個數。
            ```
            {
              "size": {"$size": "$courseList"}
            }
            ```
        * ### Stage 2 - $match: 列出修課數量超過三門以上的學生。
            ```
            {
              "size": {"$gte": 3}
            }
            ```
    * ### 單一元素符合: 5_1_2.py。
    * ### 多元素符合: 5_1_3.py
    * ### 集合運算
        * ### $match: 同時修物理與音樂欣賞的學生。
            ```
            {
              "$expr": {
                "$setIsSubset": [
                  ["物理", "音樂欣賞"],
                  "$courseList"
                ]
              }
            }
            ```
        * ### $match: 沒有修音樂欣賞的學生。
            ```
            {
              "$expr": {
                "$setEquals": [
                  {
                    "$setDifference": [
                      "$courseList",
                      ["音樂欣賞"]
                    ]
                  },
                  "$courseList"
                ]
              }
            }
            ```
            * ### $setDifference: 聚合操作符，用於計算兩個集合的差異。上述代碼操作目的是從 courseList 中刪除 "音樂欣賞"，並返回剩下的元素組成的陣列。
            * ### $setEquals: 聚合操作符，用於比較兩個集合是否相等。上述代碼操作目的是檢查刪除了 "音樂欣賞" 的 courseList 和原始的 courseList 是否相等。
    * ### 集合運算子: 5_1_4.py
        * ### 資料
            ```
            {
                "s1": [1, 2, 3],
                "s2": [2, 3, 4],
                "s3": [1, 2],
                "s4": [2, 1]
            }
            ```
* ### 陣列元素為子文件時
    * ### 只留下第一個符合條件的元素: 5_2_1.py
    * ### 查詢條件要同時成立: 5_2_2.py
    * ### 留下所有符合條件的元素: 查詢成績大於 70 分的資料，且不符合條件的資料不成限於結果中。
        * ### Stage 1 - $unwind: 解構陣列。
            ```
            "$courseList"
            ```
        * ### Stage 2 - $match: 設定查詢條件大於 70 分的資料。
            ```
            {
            	"courseList.score": {
            		"$gte": 70
              }
            }
            ```
        * ### Stage 3 - $group: 將資料格式還原為原本的格式。
            ```
            {
              "_id": "$student",
            	"courseList": {
                "$push": {
                  "title": "$courseList.title",
                  "score": "$courseList.score"
                }
              }
            }
            ```
<br />

範例程式
=====
* ### 5_1.py: 陣列元素非子文件時範例資料。
* ### 5_1_2.py: 單一元素符合。
* ### 5_1_3.py: 多元素符合。
* ### 5_1_4.py: 集合運算子。
* ### 5_2.py: 陣列元素為子文件時範例資料。
* ### 5_2_1.py: 只留下第一個符合條件的元素。
* ### 5_2_2.py: 查詢條件要同時成立。
<br />
