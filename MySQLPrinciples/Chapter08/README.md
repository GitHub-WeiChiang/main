Chapter08 MySQL 的資料目錄
=====
* ### 儲存引擎 InnoDB 與 MyISAM 等都是把資料儲存在檔案系統上 (磁碟)。
* ### MySQL 伺服器啟動時會到檔案系統的某個目錄下載一些資料，之後運情產生的資料也會儲存到這個目錄下的某些檔案中，此目錄稱為 "資料目錄"。
* ### 安裝目錄中的 bin 目錄: 儲存許多用於控制用戶端和伺服器端程式的命令。
* ### 資料目錄: 儲存 MySQL 在運行過程中產生的資料。
* ### 可以透過 ```SHOW VARIABLES LIKE 'datadir'``` 查看資料目錄路徑。
* ### "資料庫" 在檔案系統中的表示 (每個資料庫都對應資料目錄下的子目錄)
    * ### 使用 ```CREATE DATABASE DBNAME``` 後
    * ### 資料目錄下生成一個與資料庫同名的資料夾
    * ### 該資料夾中包含一個名為 db.opt 的檔案
    * ### db.opt 中有資料庫的一些屬性 (字元集和比較規則等)
* ### "表" 在檔案系統中的表示
    * ### 資料以記錄方式插入表，表的資訊分為 "表結構定義" 與 "表中資料"。
    * ### 表結構: 包含表名、列數、各列資料類型、限制條件、索引、字元集與比較規則等資訊。
    * ### 表結構定義檔的名稱為 "表名.frm" (Format File)，以二進位格式儲存。
* ### InnoDB 儲存表資料方法
    * ### 以 "頁" 為基本單位管理儲存空間 (16 KB)。
    * ### 一個索引對應一個 B+ 樹，樹的每一個節點都是一個資料頁，以雙向鏈結串列維護。
    * ### 聚簇索引的頁節點有完整的使用者記錄 (索引即資料，資料即索引)。
    * ### 表格空間 (table space)，亦可稱為 檔案空間 (file space)，是一個抽象概念，對應檔案系統上一個或多的真實檔案，每一個表格空間可以被劃分成很多頁，表資料就存放在某個表格空間下的某些頁中。
* ### 表格空間的種類
    * ### 系統表格空間 (system tablespace)
        * ### 對應檔案系統上一個或多的真實檔案
        * ### 檔名為 "ibdata1" (12 MB)
        * ### 會自動增加檔案大小
    * ### 獨立表格空間 (file - per - table tablespace)
        * ### 在 MySQL 5.6.6 開始，InnoDB 預設不再將各個表資料儲存到系統表格空間，而是 "為每一個表建立一個獨立的表格空間"。
        * ### 該表的獨立表個空間檔案會被創建在其所屬資料庫對應目錄下。
        * ### 檔名與表名稱相同，副檔名為 ".ibd"。
    * ### 其它類型
        * ### 通用表格空間 (general tablespace)
        * ### undo 表格空間 (undo tablespace)
        * ### 臨時表格空間 (temporary tablespace)
* ### 目前已提檔案
    * ### .opt 為資料庫屬性檔。
    * ### .frm 為表結構定義檔。
    * ### .ibd 為獨立表空間檔。
* ### 其它檔案
    * ### 伺服器處理程序檔: 記錄伺服器程式運行時所產生處理程序的 ID。
    * ### 伺服器記錄檔案: 包含查詢、錯誤、二進位、redo 記錄檔等。
    * ### SSL 和 RSA 證書與金曜檔案。
* ### 檔案系統對資料庫的影響
    * ### 資料庫名稱和表名稱不可超過檔案系統所允許的最大長度。
    * ### 特殊字元問題: 為避免出現特殊字元檔案系統不支援問題，除了數字和拉丁字母，其它字元會被映射成 "@ + 編碼值"。
    * ### 檔案長度受檔案系統最大長度限制 (檔案大小受限於檔案系統支援最大檔案大小)。
* ### MySQL "系統資料庫" 簡介
    * ### mysql: 包含使用者帳戶和許可權資訊、預存程序與事件定義資訊、運行過程記錄檔資訊、說明資訊與時區資訊等。
    * ### information_schema: 包含其它資料庫資訊，如表、視圖、觸發器、列、索引等，上述非真實使用者資料，而是一些描述資訊 (中繼資料)。
    * ### performance_schema: 狀態資訊，包含性能監控與近期執行敘述統計 (花費時間與記憶體使用情形等)。
    * ### sys: 透過 view 型式把 information_schema 和 performance_schema 結合。
<br />
